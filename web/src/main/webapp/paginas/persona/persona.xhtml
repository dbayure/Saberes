<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define id="ui" name="content">
		<h1 style="text-align: center;">Perfil Personal</h1>

		<h:form id="form" prependId="false">
			<p:growl id="msgs" showDetail="false" />
			<p:messages id="messages" showDetail="false" showSummary="true" autoUpdate="true"
				closable="true" />
				
		    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
		     <h:panelGrid columns="2" style="margin: 0 auto;" cellpadding="15">
		        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
		        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		     </h:panelGrid>   
		    </p:confirmDialog>
		    
			<h2>
				<p:outputLabel value="#{newPersona.nombre} " />
				<p:outputLabel value="#{newPersona.apellido}" />
			</h2>

			<p:outputLabel value="Clase: " style="font-weight:bold" />
			<p:outputLabel value="#{newPersona.clase} " />
			<br />

			<p:outputLabel value="Profesion: " style="font-weight:bold" />
			<p:outputLabel value="#{newPersona.profesion}" />
			<br />
			<br />
			<br />

			<h:panelGrid columns="2">
				<h:panelGrid columnClasses="col">
					<p:graphicImage value="#{personaBean.fotoUsuario}"	id="fotoPersonal" cache="false"
						style="height: 220px; width: 180px; margin-left: 20%;" />
					<p:fileUpload fileUploadListener="#{personaBean.upload}" allowTypes="/(\.|\/)(jpg|JPG)$/"
						invalidFileMessage="Formato Incorrecto, el archivo debe ser jpg"
						cancelLabel="Cancelar" uploadLabel="Subir Imagen" label="Nueva"
						sizeLimit="102400"
						invalidSizeMessage="No se puede subir imágenes de tamaño mayor 100 kb"
						fileLimit="1" fileLimitMessage="Solo se permite subir una foto"
						description="Selecciona Imagen" update="fotoPersonal" />
				</h:panelGrid>
				
				<h:panelGrid columns="2">

					<h:graphicImage	value="/resources/gfx/glyphicons-89-address-book.png" />
					<p:outputLabel id="direccion" value="#{newPersona.direccion}" />

					<h:graphicImage value="/resources/gfx/glyphicons-443-earphone.png" />
					<p:outputLabel id="telDirecto" value="#{newPersona.telDirecto}" />

					<h:graphicImage value="/resources/gfx/glyphicons-164-iphone.png" />
					<p:inplace editor="true" onEditUpdate="msgs">
						<p:inputMask value="#{newPersona.telCelular}" label="Celular"
						valueChangeListener="#{personaBean.onEditField}" mask="(999)-999-999" />
					</p:inplace>

					<h:graphicImage value="/resources/gfx/glyphicons-11-envelope.png" />
					<p:outputLabel id="correo" value="#{newPersona.correo}" />

					<h:graphicImage	value="/resources/gfx/glyphicons-279-birthday-cake.png" />
					<p:outputLabel id="fnac" value="#{newPersona.fechaNacimiento}" />

					<h:graphicImage value="/resources/gfx/glyphicons-196-circle-info.png" />
					<p:commandLink id="ajax" ajax="true" immediate="true" update="formDialog:telCelular formDialog:telCelular2"
						onclick="PF('dlg').show()">
						<h:outputText value="Mas info" />
					</p:commandLink>
				</h:panelGrid>

				<p:dialog header="Mas informacion" id="dlgInfo" widgetVar="dlg" resizable="false">
					<h:form id="formDialog">
						<h:panelGrid columns="2" style="margin-bottom:10px">

							<h:panelGrid columns="2">
								<h:panelGrid columns="2">
									<h:graphicImage	value="/resources/gfx/glyphicons-89-address-book.png" />
									<p:outputLabel id="direccion" value="#{newPersona.direccion}" />

									<h:graphicImage value="/resources/gfx/glyphicons-443-earphone.png" />
									<p:outputLabel id="telDirecto" value="#{newPersona.telDirecto}" />

									<h:graphicImage value="/resources/gfx/glyphicons-164-iphone.png" />
									<p:outputLabel id="telCelular" value="#{newPersona.telCelular}" />

									<h:graphicImage	value="/resources/gfx/glyphicons-11-envelope.png" />
									<p:outputLabel id="correo" value="#{newPersona.correo}" />

									<h:graphicImage	value="/resources/gfx/glyphicons-279-birthday-cake.png" />
									<p:outputLabel id="fnac" value="#{newPersona.fechaNacimiento}" />
								</h:panelGrid>
							</h:panelGrid>

							<br />
							<br />
							<br />
							<br />
							<br />
							<br />
							<br />
							<br />
							<br />
							<h2>
								<p:outputLabel value="DATOS PERSONALES" style="font-weight:bold" />
							</h2>
							<br />
							<br />
							<br />

							<h:panelGrid columns="6">
								<p:outputLabel value="Nombre: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.nombre}" />

								<p:outputLabel value="Apellido: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.apellido}" />

								<p:outputLabel value="Jornada Laboral: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.jornadaLaboral}" />

								<p:outputLabel value="Clase: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.clase}" />

								<p:outputLabel value="Sexo: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.sexo}" />

								<p:outputLabel value="Departamento: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.departamento}" />

								<p:outputLabel value="Localidad: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.localidad}" />

								<p:outputLabel value="Profesion: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.profesion}" />

								<p:outputLabel value="Situación Laboral: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.situacion}" />

								<p:outputLabel value="Division: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.division}-#{newPersona.descDivision}" />

								<p:outputLabel value="Unidad: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.unidad}" />

								<p:outputLabel value="E-Mail: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.correo}" />

								<p:outputLabel value="Piso: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.piso}" />

								<p:outputLabel value="Oficina: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.oficina}" />

								<p:outputLabel value="Tel Directo: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.telDirecto}" />

								<p:outputLabel value="Celular: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.telCelular}" id="telCelular2" />

								<p:outputLabel value="Fax: " style="font-weight:bold" />
								<p:outputLabel value="#{newPersona.fax}" />

							</h:panelGrid>

						</h:panelGrid>
					</h:form>
				</p:dialog>

			</h:panelGrid>

			<h1>SABER FORMAL</h1>

			<br />
			<p:dataTable id="curriculares" var="_curriculares" value="#{personaBean.obtenerCurriculares()}"
				emptyMessage="No existen datos a mostrar." rows="10" paginator="true" editable="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
				{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

				<f:facet name="header">  
	            	Formación Curricular
	        	</f:facet>

<!-- 				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}" update=":form:messages" immediate="true"/> -->
				<p:ajax event="rowEditCancel" listener="#{noCorporativoBean.onCancel}" update=":form:messages" />

				<p:column headerText="Institución" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_curriculares.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_curriculares.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_curriculares.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar id="fcfinicio" value="#{_curriculares.fechaInicio}" 
								pattern="dd/MM/yyyy" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_curriculares.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar id="fcffin" value="#{_curriculares.fechaFin}" 
								pattern="dd/MM/yyyy" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				
				<p:column headerText="Aprobación" style="width:20%; text-align: center; font-weight:bold">
					<p:cellEditor>					
						<f:facet name="output">
							<h:outputText value="#{personaBean.convertirAprobacion(_curriculares.aprobacion)}"/>
						</f:facet>						
						<f:facet name="input">
							<p:selectBooleanCheckbox id="idEditaprobacion" value="#{_curriculares.aprobacion}"/>
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{_curriculares.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Estado" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{personaBean.convertirValidacion(_curriculares.validado)}" />
					<p:spacer width="10px"></p:spacer>
					<p:commandButton id="btnMensaje" rendered="#{_curriculares.validado == 'R'.charAt(0)}"
						icon="ui-icon-comment" action="#{personaBean.motivoRechazoNoCorporativo(_curriculares.id)}"
						oncomplete="PF('dlgMotivoRechazo').show()" />
				</p:column>

				<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
					<p:commandButton id="downloadLink" value="VerPDF" ajax="false" immediate="true"
						actionListener="#{mediaBean.prepDownload(_curriculares.comprobante.id)}">
						<p:fileDownload value="#{mediaBean.download}" />
					</p:commandButton>
				</p:column>

<!-- 				<p:column style="width:3%"> -->
<!-- 					<p:rowEditor /> -->
<!-- 				</p:column> -->

				<p:column style="width:3%">
					<p:commandLink id="borrarCurricular" update="@all" immediate="true" action="/Saberes-web/paginas/persona/persona.jsf?faces-redirect=true"
						ajax="true" styleClass="ui-icon ui-icon-trash" resetValues="true" actionListener="#{noCorporativoBean.eliminar(_curriculares.id)}" >
						<p:confirm header="Confirmación" message="Esta seguro que desea eliminar el saber" icon="ui-icon-alert" />
					</p:commandLink>
				</p:column>

			</p:dataTable>
			<br />
		</h:form>
		
		<p:dialog widgetVar="dlgMotivoRechazo" modal="true" width="170px" height="200px" position="center">
			<h:panelGrid columns="1" style="horizontal-align:center">
				<h3>Motivo del rechazo</h3>
				<p:outputLabel value="#{personaBean.motivoRechazo}"	style="width:70px; height:70px" />
			</h:panelGrid>

		</p:dialog>
		
		<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500" collapsed="true">
			<p:ajax event="toggle" />
			<h:form id="formAltaCurricular" prependId="false" enctype="multipart/form-data">
			
				<p:dataTable id="curricularIngreso" value="" editable="true">
				
					<p:column headerText="Institución" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="idInstitucion"	value="#{noCorporativoBean.institucionSeleccionadaCurricular}" style="width:80%">
							<p:ajax	listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(1)}" update="saber" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion" itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="saber" value="#{newNoCorporativo.saber}" required="true" style="width:80%" requiredMessage="Debe seleccionar un saber">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}" var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio"	style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"	
							pattern="dd/MM/yyyy" id="fechaInicioInputCurricular" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaFin}" 
							pattern="dd/MM/yyyy" id="fechaFinInputCurricular" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="Aprobación" style="width:10%; text-align: center; font-weight:bold">
						<p:selectBooleanCheckbox value="#{newNoCorporativo.aprobacion}"	id="aprobacion"/>
					</p:column>

					<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
						<p:fileUpload id="comprobanteFormal" required="true" requiredMessage="Debe ingresar un comprobante"
							value="#{noCorporativoBean.uf}" mode="simple" skinSimple="true"	auto="true" label="Cargar" />
					</p:column>

					<p:column headerText="Agregar" style="width: 10%; text-align: center; font-weight:bold">
						<p:commandButton id="register" icon="ui-icon-plus" action="#{noCorporativoBean.registrar}" title="Registrar" ajax="false" />
					</p:column>

				</p:dataTable>

			</h:form>
		</p:fieldset>
		<br />
		<p:dataTable id="Corporativos" var="_Corporativos" sortBy="#{_Corporativos.fechaInicio}" sortOrder="descending"
			value="#{personaBean.obtenerCorporativos()}" editable="true" emptyMessage="No existen datos a mostrar." 
			rows="10" paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
			{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
			<f:facet name="header">  
	            	Saber Corporativo 
	        	</f:facet>
			<p:ajax event="rowEdit" listener="#{CorporativoBean.onEdit}" update=":form:messages" />
			<p:ajax event="rowEditCancel" listener="#{CorporativoBean.onCancel}" update=":form:messages" />

			<p:column headerText="Saber" style="width:25%; text-align: center; " sortBy="#{_Corporativos.saber.nombre}">
				<h:outputText value="#{_Corporativos.saber.nombre}" />
			</p:column>

			<p:column headerText="F.Inicio"	style="width:25%; text-align: center; "	sortBy="#{_Corporativos.fechaInicio}">
				<h:outputText value="#{_Corporativos.fechaInicio}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column headerText="F.Fin" style="width:25%; text-align:center; " sortBy="#{_Corporativos.fechaFin}">
				<h:outputText value="#{_Corporativos.fechaFin}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column headerText="Aprobación" style="width:15%; text-align: center; ">
				<div align="center">
					<h:outputText value="#{personaBean.convertirAprobacion(_Corporativos.aprobacion)}" />
				</div>
			</p:column>

			<p:column headerText="Puntaje" style="width:10%; text-align: center; ">
				<div align="center">
					<h:outputText value="#{_Corporativos.puntaje}" />
				</div>
			</p:column>

			<p:column headerText="Duración"	style="width:15%; text-align: center; ">
				<div align="center">
					<h:outputText value="#{_Corporativos.duracionStr}" />
				</div>
			</p:column>

			<p:column headerText="Libreta"	style="width:15%; text-align: center; ">
				<h:outputText value="#{_Corporativos.libreta}" />
			</p:column>

			<p:column headerText="Rol" style="width:25%; text-align: center; ">
				<h:outputText value="#{_Corporativos.rolSaber}" />
			</p:column>

			<p:column headerText="Clase" style="width:15%; text-align: center;">
				<h:outputText value="#{_Corporativos.cod_area}" />
			</p:column>
		</p:dataTable>
		<br />
		<h:form id="form2" prependId="false" enctype="multipart/form-data">
			<p:dataTable id="noCorporativos" var="_noCorporativos" value="#{personaBean.obtenerNoCorporativos()}"
				emptyMessage="No existen datos a mostrar." rows="10" paginator="true" editable="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
				{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
				<f:facet name="header">  
	            	Formación no Currcicular 
	        	</f:facet>
<!-- 				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}" update=":form:messages" /> -->
				<p:ajax event="rowEditCancel" listener="#{noCorporativoBean.onCancel}" update=":form:messages" />

				<p:column headerText="Institución" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_noCorporativos.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_noCorporativos.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio"	style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_noCorporativos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_noCorporativos.fechaInicio}" 
								pattern="dd/MM/yyyy" id="fechaInicioNoCorporativo" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_noCorporativos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_noCorporativos.fechaFin}"
								pattern="dd/MM/yyyy" id="fechaFinNoCorporativo" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Aprobación" style="width:25%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText
								value="#{personaBean.convertirAprobacion(_noCorporativos.aprobacion)}" />
						</f:facet>
						<f:facet name="input">
							<p:selectBooleanCheckbox id="idEditaprobacion"	value="#{_noCorporativos.aprobacion}"/>
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{_noCorporativos.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Estado" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{personaBean.convertirValidacion(_noCorporativos.validado)}" />
				</p:column>

				<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
					<p:commandButton id="downloadLink" value="VerPDF" ajax="false"	immediate="true"
						actionListener="#{mediaBean.prepDownload(_noCorporativos.comprobante.id)}">
						<p:fileDownload value="#{mediaBean.download}" />
					</p:commandButton>
				</p:column>

<!-- 				<p:column style="width:3%"> -->
<!-- 					<p:rowEditor /> -->
<!-- 				</p:column> -->

				<p:column style="width:3%">
					<p:commandLink id="borrarNoCorporativo" update="@all" immediate="true" ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_noCorporativos.id)}">
					<p:confirm header="Confirmación" message="Esta seguro que desea eliminar el saber" icon="ui-icon-alert" />
					</p:commandLink>
				</p:column>
			</p:dataTable>

			<br />
			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500" collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="noCorporativoIngreso" value="" editable="true">
					<p:column headerText="Institución" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="idNoCorporativoInstitucion" value="#{noCorporativoBean.institucionSeleccionada}" style="width:80%;" required="true" requiredMessage="Debe ingresar un valor para la institución">
							<p:ajax	listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(2)}"	update="saberNoCorporativo" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion" itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="saberNoCorporativo" value="#{newNoCorporativo.saber}" required="true" style="width:80%" requiredMessage="Debe ingresar un valor para el saber">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}" var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaInicio}" 
							pattern="dd/MM/yyyy" id="fechaInicioInputNoCorporativo" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaFin}" 
							pattern="dd/MM/yyyy" id="fechaFinInputNoCorporativo" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="Aprobación" style="width:15%; text-align: center; font-weight:bold">
						<p:selectBooleanCheckbox value="#{newNoCorporativo.aprobacion}"	id="aprobacionNoCorporativo"/>
					</p:column>

					<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
						<p:fileUpload id="comprobanteNoCorporativo" required="true" requiredMessage="Debe ingresar un comprobante"
							value="#{noCorporativoBean.uf}" mode="simple" skinSimple="true"	auto="true" label="Cargar" />
					</p:column>

					<p:column headerText="Agregar" style="width:10%; text-align: center; font-weight:bold">
						<p:commandButton id="registerNoCorporativo" icon="ui-icon-plus"	action="#{noCorporativoBean.registrar}" 
						title="Registrar" ajax="false" />
					</p:column>

				</p:dataTable>

			</p:fieldset>
		</h:form>

		<h1>SABER NO FORMAL</h1>
		<h:form id="form3" prependId="false" enctype="multipart/form-data">
			<p:dataTable id="cursos" var="_cursos" value="#{personaBean.obtenerCursos()}" emptyMessage="No existen datos a mostrar." 
				rows="10" paginator="true" editable="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
				{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
				<f:facet name="header">  
	            	Cursos
	        	</f:facet>
<!-- 				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}" update=":form:messages" /> -->
				<p:ajax event="rowEditCancel" listener="#{noCorporativoBean.onCancel}" update=":form:messages" />

				<p:column headerText="Institución" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_cursos.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_cursos.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio"	style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaInicio}" 
								pattern="dd/MM/yyyy"	id="fechaInicioCursos" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaFin}" 
								pattern="dd/MM/yyyy" id="fechaFinCursos" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{_cursos.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Estado" style="width:15%; text-align: center; font-weight:bold">
					<h:outputText value="#{personaBean.convertirValidacion(_cursos.validado)}" />
				</p:column>

				<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
					<p:commandButton id="downloadLink" value="VerPDF" ajax="false" immediate="true"
						actionListener="#{mediaBean.prepDownload(_cursos.comprobante.id)}">
						<p:fileDownload value="#{mediaBean.download}" />
					</p:commandButton>		
				</p:column>

<!-- 				<p:column style="width:3%"> -->
<!-- 					<p:rowEditor /> -->
<!-- 				</p:column> -->

				<p:column style="width:3%">
					<p:commandLink id="borrarCurso" update="@all" immediate="true" ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_cursos.id)}">
					<p:confirm header="Confirmación" message="Esta seguro que desea eliminar el saber" icon="ui-icon-alert" />						
					</p:commandLink>
				</p:column>

			</p:dataTable>

			<br />
			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500" collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="cursosIngreso" value="" editable="true">
					<p:column headerText="Institución:"	style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="idCursosInstitucion" value="#{noCorporativoBean.institucionSeleccionadaCurso}"	style="width:80%" required="true" requiredMessage="Debe ingresar un valor para la institución">
							<p:ajax	listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(5)}"	update="saberCurso" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion" itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="saberCurso" value="#{newNoCorporativo.saber}" required="true" style="width:80%" requiredMessage="Debe ingresar un valor para el saber">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}" var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:15%; text-align: center;">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"	
							pattern="dd/MM/yyyy" id="fechaInicioInputCurso" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaFin}"
							pattern="dd/MM/yyyy" id="fechaFinInputCurso" mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold">
						<p:fileUpload id="comprobanteCurso" required="true" requiredMessage="Debe ingresar un comprobante"
							value="#{noCorporativoBean.uf}" mode="simple" skinSimple="true"	auto="true" label="Cargar" />
					</p:column>

					<p:column headerText="Agregar" style="width:10%; text-align: center; font-weight:bold">
						<p:commandButton id="registerCursos" icon="ui-icon-plus" action="#{noCorporativoBean.registrar}" title="Registrar" ajax="false" />
					</p:column>

				</p:dataTable>

			</p:fieldset>
		</h:form>
		<br />
		<h:form id="form4" prependId="false" enctype="multipart/form-data">
			<p:dataTable id="conocimientos" var="_cursos" value="#{personaBean.obtenerConocimientos()}"
				emptyMessage="No existen datos a mostrar." rows="10" paginator="true" editable="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
				{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
				<f:facet name="header">  
	            	Conocimientos
	        	</f:facet>
<!-- 				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}" update=":form:messages" /> -->
				<p:ajax event="rowEditCancel" listener="#{noCorporativoBean.onCancel}" update=":form:messages" />

				<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_cursos.saber.nombre}" />
				</p:column>

				<p:column headerText="Origen" style="width:25%; text-align: center; font-weight:bold">
					<h:outputText value="#{_cursos.origen.descripcion}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaInicio}" 
								pattern="dd/MM/yyyy" id="fechaInicioConocimiento" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaFin}" 
								pattern="dd/MM/yyyy" id="fechaFinConocimiento" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				
				<p:column headerText="Estado"	style="width:15%; text-align: center; font-weight:bold">
					<h:outputText
						value="#{personaBean.convertirValidacion(_cursos.validado)}" />
				</p:column>

<!-- 				<p:column style="width:3%"> -->
<!-- 					<p:rowEditor /> -->
<!-- 				</p:column> -->

				<p:column style="width:3%">
					<p:commandLink id="BorrarConocimiento" update="@all" immediate="true" ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_cursos.id)}">
					<p:confirm header="Confirmación" message="Esta seguro que desea eliminar el saber" icon="ui-icon-alert" />						
					</p:commandLink>
				</p:column>

			</p:dataTable>
			<br />

			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500" collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="conocimientosIngreso" value="" editable="true"	styleClass="textoCentrado">
				
					<p:column headerText="Saber" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="idSaberConocimiento" value="#{newNoCorporativo.saber}" style="width:80%" required="true" requiredMessage="Debe ingresar un valor para el saber">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{conocimientos}" var="_conocimiento" itemLabel="#{_conocimiento.nombre}" itemValue="#{_conocimiento}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Origen:" style="width:25%; text-align: center; font-weight:bold">
						<p:selectOneMenu id="idConocimientoOrigen"	value="#{newNoCorporativo.origen}" style="width:80%" required="true" requiredMessage="Debe ingresar un valor para el origen">
							<f:converter converterId="origenConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{origenes}" var="_origen" itemLabel="#{_origen.descripcion}" itemValue="#{_origen}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"	
							pattern="dd/MM/yyyy" id="fechaInicioInputConocimiento"	mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:15%; text-align: center; font-weight:bold">
						<p:calendar value="#{newNoCorporativo.fechaFin}" 
							pattern="dd/MM/yyyy" id="fechaFinInputConocimiento" mode="popup" navigator="true" size="9" />
					</p:column>

<!-- 					<p:column headerText="Comprobantes"	style="width:20%; text-align: center; font-weight:bold"> -->
<!-- 						<p:fileUpload id="comprobanteConocimiento" required="false"  -->
<!-- 							value="#{noCorporativoBean.uf}" mode="simple" skinSimple="true"	auto="true" label="Cargar" /> -->
<!-- 					</p:column> -->

					<p:column headerText="Agregar" style="width:10%; text-align: center; font-weight:bold">
						<p:commandButton id="registerCursos" icon="ui-icon-plus" action="#{noCorporativoBean.registrar}" title="Registrar" ajax="false"/>
					</p:column>
					
				</p:dataTable>
			</p:fieldset>
		</h:form>
			
	</ui:define>
</ui:composition>