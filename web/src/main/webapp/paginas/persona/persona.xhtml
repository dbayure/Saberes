<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define id="ui" name="content">
		<h1 style="text-align: center;">Perfil Personal</h1>

		<h:form id="form" prependId="false">
			<p:growl id="msgs" showDetail="true" />
			<p:messages id="messages" showDetail="true" autoUpdate="true"
				closable="true" />

			<h2>
				<p:outputLabel value="#{newPersona.nombre} " />
				<p:outputLabel value="#{newPersona.apellido}" />
			</h2>

			<p:outputLabel value="Clase: " style="font-weight:bold" />
			<p:outputLabel value="#{newPersona.clase} " />
			<br />

			<p:outputLabel value="Profesion: " style="font-weight:bold" />
			<p:outputLabel value="#{newPersona.profesion}" />
			<br />
			<br />
			<br />

			<h:panelGrid columns="2">
				<h:panelGrid columnClasses="col">
		    		<p:graphicImage value="#{personaBean.cargarImagenes(personaBean.usrImg)}"  style="height: 220px; width: 180px;" />
					<p:fileUpload fileUploadListener="#{personaBean.upload}"
							allowTypes="/(\.|\/)(jpg|JPG)$/"
							invalidFileMessage="Formato Incorrecto, el archivo debe ser jpg" cancelLabel="Cancelar"
							uploadLabel="Subir" label="Nueva" sizeLimit="102400"
							invalidSizeMessage="No se puede subir imágenes de tamaño mayor 100 kb"
							fileLimit="1" fileLimitMessage="Solo se permite subir una foto"
							description="Selecciona Imagen" />
				</h:panelGrid>
			
				<h:panelGrid columns="2">

					<h:graphicImage value="/resources/gfx/glyphicons-89-address-book.png" />
					<p:outputLabel id="direccion" value="#{newPersona.direccion}" />

					<h:graphicImage value="/resources/gfx/glyphicons-443-earphone.png" />
					<p:outputLabel  id="telDirecto" value="#{newPersona.telDirecto}" />

					<h:graphicImage value="/resources/gfx/glyphicons-164-iphone.png" />
					<p:outputLabel  id="telCelular" value="#{newPersona.telCelular} editar" />

					<h:graphicImage value="/resources/gfx/glyphicons-11-envelope.png" />
					<p:outputLabel  id="correo" value="#{newPersona.correo}" />

					<h:graphicImage	value="/resources/gfx/glyphicons-279-birthday-cake.png" />
					<p:outputLabel  id="fnac" value="#{newPersona.fechaNacimiento}" />

					<h:graphicImage	value="/resources/gfx/glyphicons-196-circle-info.png" />
						<p:commandLink id="ajax" update="growl" onclick="PF('dlg').show()" >
							<h:outputText value="Mas info" />
						</p:commandLink>
				</h:panelGrid>
					
					<p:growl id="growl" life="2000" />

					<p:dialog header="Mas informacion" widgetVar="dlg"
						resizable="false">
						<h:form id="formDialog">
							<h:panelGrid columns="2" style="margin-bottom:10px">

								<h:panelGrid columns="2">
									<h:panelGrid columns="2">
										<h:graphicImage	value="/resources/gfx/glyphicons-89-address-book.png" />
										<p:outputLabel id="direccion" value="#{newPersona.direccion}" />

										<h:graphicImage value="/resources/gfx/glyphicons-443-earphone.png" />
										<p:outputLabel  id="telDirecto" value="#{newPersona.telDirecto}" />

										<h:graphicImage	value="/resources/gfx/glyphicons-164-iphone.png" />
										<p:outputLabel  id="telCelular" value="#{newPersona.telCelular}" />

										<h:graphicImage	value="/resources/gfx/glyphicons-11-envelope.png" />
										<p:outputLabel  id="correo" value="#{newPersona.correo}" />

										<h:graphicImage	value="/resources/gfx/glyphicons-279-birthday-cake.png" />
										<p:outputLabel  id="fnac" value="#{newPersona.fechaNacimiento}" />
									</h:panelGrid>
								</h:panelGrid>


								<br />
								<br />
								<br />
								<br />
								<br />
								<br />
								<br />
								<br />
								<br />
								<h2>
								<p:outputLabel value="DATOS PERSONALES"	style="font-weight:bold" />
								</h2>
								<br />
								<br />
								<br />

								<h:panelGrid columns="6">
									<p:outputLabel value="Nombre: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.nombre}" />

									<p:outputLabel value="Apellido: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.apellido}" />

									<p:outputLabel value="Jornada Laboral: "
										style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.jornadaLaboral}" />

									<p:outputLabel value="Clase: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.clase}" />

									<p:outputLabel value="Sexo: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.sexo}" />

									<p:outputLabel value="Departamento: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.departamento}" />

									<p:outputLabel value="Localidad: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.localidad}" />

									<p:outputLabel value="Profesion: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.profesion}" />

									<p:outputLabel value="Situación Laboral: "
										style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.situacion}" />

									<p:outputLabel value="Division: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.division}" />

									<p:outputLabel value="Unidad: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.unidad}" />

									<p:outputLabel value="E-Mail: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.correo}" />

									<p:outputLabel value="Piso: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.piso}" />

									<p:outputLabel value="Oficina: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.oficina}" />

									<p:outputLabel value="Tel Directo: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.telDirecto}" />

									<p:outputLabel value="Celular: " style="font-weight:bold" />
									<p:inputText value="#{newPersona.telCelular}" maxlength="13" size="13"/> 

									<p:outputLabel value="Fax: " style="font-weight:bold" />
									<p:outputLabel value="#{newPersona.fax}" />


								</h:panelGrid>

							</h:panelGrid>
							<p:commandButton id="submitButton" value="Guardar"	onclick="PF('dlg').hide();" action="#{personaBean.Edit}"/>
						</h:form>
					</p:dialog>


				</h:panelGrid>


			<h1>SABER FORMAL</h1>

			<p:separator />
			<p:dataTable id="curriculares" var="_curriculares"
				value="#{personaBean.obtenerCurriculares()}" editable="true">
				<f:facet name="header">  
	            	Formación Curricular
	        	</f:facet>

				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}"
					update=":form:messages" />
				<p:ajax event="rowEditCancel"
					listener="#{noCorporativoBean.onCancel}" update=":form:messages" />


				<p:column headerText="Institución" style="width:25%">
					<h:outputText value="#{_curriculares.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Curso" style="width:25%">
					<h:outputText value="#{_curriculares.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_curriculares.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_curriculares.fechaInicio}"
								pattern="dd/MM/yyyy" id="fechaInicioCurricular" mode="popup"
								navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_curriculares.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_curriculares.fechaFin}"
								pattern="dd/MM/yyyy" id="fechaFinCurricular" mode="popup"
								navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Aprobación" style="width:25%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{personaBean.convertirAprobacion(_curriculares.aprobacion)}" />
						</f:facet>
						<f:facet name="input">
							<p:selectBooleanCheckbox id="idEditaprobacion" value="#{_curriculares.aprobacion}"></p:selectBooleanCheckbox>
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:25%">
					<h:outputText value="#{_curriculares.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Validado" style="width:25%">
					<h:outputText
						value="#{personaBean.convertirValidacion(_curriculares.validado)}" />
					<p:spacer width="10px"></p:spacer>
					<p:commandButton id="btnMensaje"
						rendered="#{_curriculares.validado == 'R'.charAt(0)}"
						icon="ui-icon-comment"
						action="#{personaBean.motivoRechazoNoCorporativo(_curriculares.id)}"
						update="@all" />
					<p:spacer width="10px"></p:spacer>
					<p:outputLabel value="#{personaBean.motivoRechazo}"
						rendered="#{personaBean.gridRechazo}" />
				</p:column>

				<p:column headerText="Comprobantes" style="width:30%">
						<p:commandButton id="downloadLink" value="Ver" ajax="false" immediate="true" actionListener="#{mediaBean.prepDownload(_curriculares.comprobante.id)}">
							<p:fileDownload value="#{mediaBean.download}" />
						</p:commandButton>
				</p:column>

				<p:column style="width:3%">
					<p:rowEditor />
				</p:column>

				<p:column style="width:3%">
					<p:commandLink id="deleteLink" update="@all" immediate="true"
						ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_curriculares.id)}">
					</p:commandLink>
				</p:column>

			</p:dataTable>
		</h:form>

		<br />
		<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500"
			collapsed="true">
			<p:ajax event="toggle" />
			<h:form id="formAltaCurricular" prependId="false">
				<p:dataTable id="curricularIngreso" value="" editable="true">
					<f:facet name="header">Formación curricular</f:facet>

					<p:column headerText="Institución">
						<p:selectOneMenu id="idInstitucion"
							value="#{noCorporativoBean.institucionSeleccionadaCurricular}"
							style="width:100%">
							<p:ajax
								listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(1)}"
								update="saber" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue=""
								noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion"
								itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Educación">
						<p:selectOneMenu id="saber" value="#{newNoCorporativo.saber}"
							required="true" style="width:100%">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}"
								var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"
							pattern="dd/MM/yyyy" id="fechaInicioInputCurricular" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaFin}"
							pattern="dd/MM/yyyy" id="fechaFinInputCurricular" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="Aprobación" style="width:10%">
						<p:selectBooleanCheckbox value="#{newNoCorporativo.aprobacion}"
							id="aprobacion">
						</p:selectBooleanCheckbox>
					</p:column>

					<p:column headerText="Comprobantes">
						<p:fileUpload id="comprobanteNoCorporativo" fileUploadListener="#{noCorporativoBean.upload}" mode="advanced" auto="true"/>
					</p:column>

					<p:column headerText="Agregar" style="width:5%">
						<p:commandButton id="register" icon="ui-icon-plus"
							action="#{noCorporativoBean.registrar}" title="Registrar"
							update=":form:curriculares" />
					</p:column>

				</p:dataTable>
			</h:form>
		</p:fieldset>

		<br />
		<p:separator />

			<p:dataTable id="Corporativos" var="_Corporativos" value="#{personaBean.obtenerCorporativos()}" editable="true">
	       		<f:facet name="header">  
	            	Saber Corporativo 
	        	</f:facet>
	        	
	        	<p:ajax event="rowEdit" listener="#{CorporativoBean.onEdit}" update=":form:messages" />  
	        	<p:ajax event="rowEditCancel" listener="#{CorporativoBean.onCancel}" update=":form:messages" />
					
				<p:column headerText="Curso" style="width:55%">
					<h:outputText value="#{_Corporativos.saber.nombre}" />
				</p:column>	
	
	           	 <p:column headerText="F.Inicio" style="width:30%">  
	                   	<h:outputText value="#{_Corporativos.fechaInicio}" > <f:convertDateTime pattern="dd/MM/yyyy"/> </h:outputText>
	           	 </p:column> 
	
	           	 <p:column headerText="F.Fin" style="width:30%">  
	                   	<h:outputText value="#{_Corporativos.fechaFin}" > <f:convertDateTime pattern="dd/MM/yyyy"/> </h:outputText>
 	           	 </p:column>
	
				<p:column headerText="Aprobación" style="width:35%">
						<h:outputText value="#{personaBean.convertirAprobacion(_Corporativos.aprobacion)}" />
				</p:column>
				
				<p:column headerText="Puntaje" style="width:25%">  
	                  		<div align="center"><h:outputText  value="#{_Corporativos.puntaje}" /></div>
	           	</p:column>
	
				<p:column headerText="Duración" style="width:25%">  
	                  		<h:outputText value="#{_Corporativos.duracion}" />
	           	 </p:column> 
	
				<p:column headerText="Libreta" style="width:25%">  
	                  		<h:outputText value="#{_Corporativos.libreta}" />
	           	 </p:column> 
	           	 
	           	 <p:column headerText="Rol" style="width:25%">  
	                   		<h:outputText value="#{_Corporativos.rolSaber}" />
	           	 </p:column> 
	           	 
	           	 <p:column headerText="Clase" style="width:25%">  
	                   		<h:outputText value="#{_Corporativos.cod_area}" />
	           	 </p:column>
	       </p:dataTable>

		<br />
		<p:separator />

		<h:form id="form2" prependId="false">
			<p:dataTable id="noCorporativos" var="_noCorporativos"
				value="#{personaBean.obtenerNoCorporativos()}" editable="true">
				<f:facet name="header">  
	            	Saber No Corporativo 
	        	</f:facet>

				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}"
					update=":form:messages" />
				<p:ajax event="rowEditCancel"
					listener="#{noCorporativoBean.onCancel}" update=":form:messages" />


				<p:column headerText="Institución" style="width:25%">
					<h:outputText value="#{_noCorporativos.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Curso" style="width:25%">
					<h:outputText value="#{_noCorporativos.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_noCorporativos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_noCorporativos.fechaInicio}"
								pattern="dd/MM/yyyy" id="fechaInicioNoCorporativo" mode="popup"
								navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_noCorporativos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_noCorporativos.fechaFin}"
								pattern="dd/MM/yyyy" id="fechaFinNoCorporativo" mode="popup"
								navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Aprobación" style="width:25%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText
								value="#{personaBean.convertirAprobacion(_noCorporativos.aprobacion)}" />
						</f:facet>
						<f:facet name="input">
							<p:selectBooleanCheckbox id="idEditaprobacion"
								value="#{_noCorporativos.aprobacion}">
							</p:selectBooleanCheckbox>
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:25%">
					<h:outputText value="#{_noCorporativos.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Validado" style="width:25%">
					<h:outputText
						value="#{personaBean.convertirValidacion(_noCorporativos.validado)}" />
				</p:column>

				<p:column headerText="Comprobantes" style="width:30%">
						<p:commandButton id="downloadLink" value="Ver" ajax="false" immediate="true" actionListener="#{mediaBean.prepDownload(_noCorporativos.comprobante.id)}">
							<p:fileDownload value="#{mediaBean.download}" />
						</p:commandButton>
				</p:column>
										
					<p:column style="width:3%">
						<p:rowEditor />
					</p:column>

					<p:column style="width:3%">
						<p:commandLink id="deleteLink" update="@all" immediate="true"
							ajax="true" styleClass="ui-icon ui-icon-trash"
							actionListener="#{noCorporativoBean.eliminar(_noCorporativos.id)}">
						</p:commandLink>
					</p:column>
			</p:dataTable> 

			<br />
			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500"
				collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="noCorporativoIngreso" value="" editable="true">
					<f:facet name="header">Cursos no corporativos</f:facet>

					<p:column headerText="Institución">
						<p:selectOneMenu id="idNoCorporativoInstitucion"
							value="#{noCorporativoBean.institucionSeleccionada}"
							style="width:100%">
							<p:ajax
								listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(2)}"
								update="saberNoCorporativo" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue=""
								noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion"
								itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Curso">
						<p:selectOneMenu id="saberNoCorporativo"
							value="#{newNoCorporativo.saber}" required="true"
							style="width:100%">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}"
								var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"
							pattern="dd/MM/yyyy" id="fechaInicioInputNoCorporativo"
							mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaFin}"
							pattern="dd/MM/yyyy" id="fechaFinInputNoCorporativo" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="Aprobación" style="width:10%">
						<p:selectBooleanCheckbox value="#{newNoCorporativo.aprobacion}"
							id="aprobacionNoCorporativo">
						</p:selectBooleanCheckbox>
					</p:column>

					 <p:column headerText="Comprobantes">  
						<p:fileUpload id="comprobanteNoCorporativo" fileUploadListener="#{noCorporativoBean.upload}" mode="advanced" auto="true"/>
	           		 </p:column>  

					<p:column headerText="Agregar" style="width:5%">
						<p:commandButton id="registerNoCorporativo" icon="ui-icon-plus"
							action="#{noCorporativoBean.registrar}" title="Registrar"
							update=":form2:noCorporativos" />
					</p:column>

				</p:dataTable>
				<p:separator />
			</p:fieldset>
		</h:form>


		<br />
		<p:separator />
		<p:separator />


		<h1>SABER NO FORMAL</h1>
		<h:form id="form3" prependId="false">
			<p:dataTable id="cursos" var="_cursos"
				value="#{personaBean.obtenerCursos()}" editable="true">
				<f:facet name="header">  
	            	Cursos
	        	</f:facet>

				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}"
					update=":form:messages" />
				<p:ajax event="rowEditCancel"
					listener="#{noCorporativoBean.onCancel}" update=":form:messages" />


				<p:column headerText="Institución" style="width:25%">
					<h:outputText value="#{_cursos.saber.institucion.nombre}" />
				</p:column>

				<p:column headerText="Curso" style="width:25%">
					<h:outputText value="#{_cursos.saber.nombre}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaInicio}" pattern="dd/MM/yyyy"
								id="fechaInicioCursos" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaFin}" pattern="dd/MM/yyyy"
								id="fechaFinCursos" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Duración" style="width:25%">
					<h:outputText value="#{_cursos.saber.duracion} Años" />
				</p:column>

				<p:column headerText="Validado" style="width:25%">
					<h:outputText
						value="#{personaBean.convertirValidacion(_cursos.validado)}" />
				</p:column>
				
				<p:column headerText="Comprobantes" style="width:30%">
						<p:commandButton id="downloadLink" value="Ver" ajax="false" immediate="true" actionListener="#{mediaBean.prepDownload(_cursos.comprobante.id)}">
							<p:fileDownload value="#{mediaBean.download}" />
						</p:commandButton>
				</p:column>		

				<p:column style="width:3%">
					<p:rowEditor />
				</p:column>

				<p:column style="width:3%">
					<p:commandLink id="deleteLink" update="@all" immediate="true"
						ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_cursos.id)}">
					</p:commandLink>
				</p:column>

			</p:dataTable>

			<br />

			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500"
				collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="cursosIngreso" value="" editable="true">
					<f:facet name="header">Cursos</f:facet>

					<p:column headerText="Institución:">
						<p:selectOneMenu id="idCursosInstitucion"
							value="#{noCorporativoBean.institucionSeleccionadaCurso}" style="width:100%">
							<p:ajax
								listener="#{noCorporativoBean.saberesNoCorporativosPorTipo(5)}"	update="saberCurso" />
							<f:converter converterId="institucionConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue=""
								noSelectionOption="true" />
							<f:selectItems value="#{instituciones}" var="_institucion"
								itemLabel="#{_institucion.nombre}" itemValue="#{_institucion}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Curso">
						<p:selectOneMenu id="saberCurso" value="#{newNoCorporativo.saber}"
							required="true" style="width:100%">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{noCorporativoBean.saberPorInst}"
								var="_saber" itemLabel="#{_saber.nombre}" itemValue="#{_saber}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"
							pattern="dd/MM/yyyy" id="fechaInicioInputCurso" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaFin}"
							pattern="dd/MM/yyyy" id="fechaFinInputCurso" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="Comprobantes">
						<p:fileUpload id="comprobanteNoCorporativo" fileUploadListener="#{noCorporativoBean.upload}" mode="advanced" auto="true"/>
					</p:column>

					<p:column headerText="Agregar" style="width:5%">
						<p:commandButton id="registerCursos" icon="ui-icon-plus"
							action="#{noCorporativoBean.registrar}" title="Registrar"
							update=":form3:cursos" />
					</p:column>

				</p:dataTable>
				<p:separator />
			</p:fieldset>
		</h:form>

		<p:separator />

		<h:form id="form4" prependId="false">
			<p:dataTable id="conocimientos" var="_cursos"
				value="#{personaBean.obtenerConocimientos()}" editable="true">
				<f:facet name="header">  
	            	Conocimientos
	        	</f:facet>

				<p:ajax event="rowEdit" listener="#{noCorporativoBean.onEdit}"
					update=":form:messages" />
				<p:ajax event="rowEditCancel"
					listener="#{noCorporativoBean.onCancel}" update=":form:messages" />

				<p:column headerText="Saber" style="width:25%">
					<h:outputText value="#{_cursos.saber.nombre}" />
				</p:column>

				<p:column headerText="Origen" style="width:25%">
					<h:outputText value="#{_cursos.origen.descripcion}" />
				</p:column>

				<p:column headerText="F.Inicio" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaInicio}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaInicio}" pattern="dd/MM/yyyy"
								id="fechaInicioConocimiento" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="F.Fin" style="width:30%">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{_cursos.fechaFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</f:facet>
						<f:facet name="input">
							<p:calendar value="#{_cursos.fechaFin}" pattern="dd/MM/yyyy"
								id="fechaFinConocimiento" mode="popup" navigator="true" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Comprobantes" style="width:30%">
						<p:commandButton id="downloadLink" value="Ver" ajax="false" immediate="true" actionListener="#{mediaBean.prepDownload(_cursos.comprobante.id)}">
							<p:fileDownload value="#{mediaBean.download}" />
						</p:commandButton>
				</p:column>		

				<p:column headerText="Validado" style="width:25%">
					<h:outputText
						value="#{personaBean.convertirValidacion(_cursos.validado)}" />
				</p:column>

				<p:column style="width:3%">
					<p:rowEditor />
				</p:column>

				<p:column style="width:3%">
					<p:commandLink id="deleteLink" update="@all" immediate="true"
						ajax="true" styleClass="ui-icon ui-icon-trash"
						actionListener="#{noCorporativoBean.eliminar(_cursos.id)}">
					</p:commandLink>
				</p:column>

			</p:dataTable>
			<br />

			<p:fieldset legend="Agregar" toggleable="true" toggleSpeed="500"
				collapsed="true">
				<p:ajax event="toggle" />
				<p:dataTable id="conocimientosIngreso" value="" editable="true">
					<f:facet name="header">Conocimientos</f:facet>

					<p:column headerText="Saber">
						<p:selectOneMenu id="saberConocimiento"
							value="#{newNoCorporativo.saber}" required="true"
							style="width:100%">
							<f:converter converterId="saberConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue="" />
							<f:selectItems value="#{conocimientos}" var="_conocimiento"
								itemLabel="#{_conocimiento.nombre}" itemValue="#{_conocimiento}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="Origen:">
						<p:selectOneMenu id="idConocimientoOrigen"
							value="#{newNoCorporativo.origen}" style="width:100%">
							<f:converter converterId="origenConverter" />
							<f:selectItem itemLabel="Seleccione..." itemValue=""
								noSelectionOption="true" />
							<f:selectItems value="#{origenes}" var="_origen"
								itemLabel="#{_origen.descripcion}" itemValue="#{_origen}" />
						</p:selectOneMenu>
					</p:column>

					<p:column headerText="F.Inicio" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaInicio}"
							pattern="dd/MM/yyyy" id="fechaInicioInputConocimiento"
							mode="popup" navigator="true" size="9" />
					</p:column>

					<p:column headerText="F.Fin" style="width:12%">
						<p:calendar value="#{newNoCorporativo.fechaFin}"
							pattern="dd/MM/yyyy" id="fechaFinInputConocimiento" mode="popup"
							navigator="true" size="9" />
					</p:column>

					<p:column headerText="Comprobantes">
						<p:fileUpload id="comprobanteNoCorporativo" fileUploadListener="#{noCorporativoBean.upload}" mode="advanced" auto="true"/>
					</p:column>

					<p:column headerText="Agregar" style="width:5%">
						<p:commandButton id="registerCursos" icon="ui-icon-plus"
							action="#{noCorporativoBean.registrar}" title="Registrar"
							update=":form4:conocimientos" />
					</p:column>
				</p:dataTable>
			</p:fieldset>

		</h:form>

		<p:separator />
	</ui:define>
</ui:composition>
